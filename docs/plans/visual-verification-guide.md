# 视觉验证指南 - 自定义标题栏

## 快速验证要点

### 🎯 关键视觉检查点

#### 1. 无系统标题栏 ✨
**期望看到**:
```
┌─────────────────────────────────────────────────┐
│  [自定义深色 Header]                              │  ← 应用内容从顶部开始
│  ╔═══╗  Agent Skills Guard    [语言] [─][□][×]  │
│  ║ ◎ ║                                          │
│  ╚═══╝                                          │
├─────────────────────────────────────────────────┤
│  Skills | Repositories                          │
```

**不应看到**:
```
┌─────────────────────────────────────────────────┐ ← Windows 标题栏
│ Agent Skills Guard              [─][□][×]       │ ← 白色/灰色系统标题栏(BAD!)
├─────────────────────────────────────────────────┤
│  [自定义深色 Header]                              │
```

#### 2. Header 布局正确 🎨
```
┌───────────────────────────────────────────────────────┐
│  [Logo] [标题+副标题]     [可拖动区域]     [语言] [窗口控制] │
│    ↓          ↓              ↓              ↓       ↓     │
│  ╔═══╗   Agent Skills     [空白可拖动]    [EN/中文]  [─][□][×] │
│  ║ ◎ ║   Guard                                           │
│  ╚═══╝   > Skill Manager                                 │
└───────────────────────────────────────────────────────┘
```

#### 3. 颜色和主题 🌈
- **Header 背景**: 深色半透明(`bg-background/95`)
- **标题**: 青色发光效果(`text-terminal-cyan text-glow`)
- **Logo**: 青色 ASCII 艺术
- **按钮悬停**:
  - 最小化/最大化: 青色高亮(`hover:bg-terminal-cyan/10`)
  - 关闭: 红色高亮(`hover:bg-terminal-red/20`)

## 详细检查列表

### A. 窗口外观
- [ ] 窗口顶部从应用内容开始(无 Windows 标题栏)
- [ ] 可能有薄边框(1-2px),这是正常的
- [ ] 整体呈现深色赛博朋克风格
- [ ] 背景有矩阵动画效果

### B. Header 元素定位
- [ ] Logo 在最左侧
- [ ] 标题和副标题在 logo 右侧
- [ ] 语言切换器在右上角
- [ ] 窗口控制按钮在最右侧
- [ ] 元素之间有适当间距

### C. 交互区域
- [ ] Logo 区域: 不可拖动,不可选中
- [ ] 标题文本: 不可拖动,不可选中
- [ ] 中间空白: 可拖动窗口
- [ ] 语言切换器: 可点击,不触发拖动
- [ ] 窗口按钮: 可点击,不触发拖动

### D. 按钮样式
```
正常状态:    [─] [□] [×]     (灰色)

悬停状态:    [─] [□] [×]
            青色 青色 红色
```

### E. 响应式表现
- [ ] 窗口宽度 1200px: 所有元素正常排列
- [ ] 窗口宽度 800px(最小): 元素仍可见,无重叠
- [ ] 最大化: 布局保持一致

## 常见问题排查

### ❌ 问题: 仍然看到白色系统标题栏
**可能原因**:
1. Tauri 配置未生效
2. 应用未完全重启
3. 缓存问题

**解决方案**:
```bash
# 1. 停止开发服务器 (Ctrl+C)
# 2. 清理构建缓存
cd src-tauri
cargo clean
cd ..

# 3. 重新启动
pnpm dev
```

### ❌ 问题: 窗口控制按钮不工作
**检查**:
1. 打开浏览器开发者工具(F12)
2. 点击按钮,查看控制台错误
3. 确认 `@tauri-apps/api/window` 已导入

**可能错误**:
```
Cannot read properties of undefined (reading 'minimize')
```

**解决**: 确认 Tauri API 依赖已安装:
```bash
pnpm list @tauri-apps/api
```

### ❌ 问题: 窗口无法拖动
**检查**:
1. 确认 `data-tauri-drag-region` 属性在正确的元素上
2. 检查是否有其他元素遮挡拖动区域
3. 确认 `pointer-events` 设置正确

**调试方法**:
```jsx
// 临时添加视觉指示
<div
  data-tauri-drag-region
  className="... bg-red-500/10"  // 临时高亮拖动区域
>
```

### ❌ 问题: 交互元素触发拖动
**症状**: 点击按钮时窗口开始拖动

**原因**: 未设置 `pointer-events-auto`

**修复**:
```jsx
<div className="pointer-events-auto">
  <LanguageSwitcher />
</div>
```

## 对比参考

### 修改前(有系统标题栏)
```
┌─────────────────────────────────────────┐
│ Agent Skills Guard          [─][□][×]   │ ← Windows 标题栏(白色/灰色)
├─────────────────────────────────────────┤
│ ╔═══╗ Agent Skills Guard    [EN] [中文]  │ ← 自定义 Header
│ ║ ◎ ║                                   │
│ ╚═══╝                                   │
```
**问题**: 双标题栏,视觉不统一

### 修改后(仅自定义标题栏)
```
┌─────────────────────────────────────────────┐
│ ╔═══╗ Agent Skills Guard  [EN][中文] [─][□][×] │ ← 唯一的标题栏
│ ║ ◎ ║ > Skill Manager                       │
│ ╚═══╝                                        │
├─────────────────────────────────────────────┤
│ Skills | Repositories                        │
```
**优点**: 统一的深色主题,符合赛博朋克风格

## 截图建议

建议截取以下场景的截图:
1. **正常状态**: 默认窗口大小,完整界面
2. **悬停效果**: 鼠标悬停在关闭按钮上
3. **最大化状态**: 全屏显示
4. **最小尺寸**: 800x600 窗口

## 性能检查

### 正常指标:
- **拖动响应**: < 16ms(60 FPS)
- **按钮点击**: 即时响应
- **窗口切换**: < 100ms
- **内存使用**: < 100MB(空闲状态)

### 如果感觉卡顿:
1. 检查开发者工具性能面板
2. 确认没有过多的 re-renders
3. 检查 CPU 使用率

## 验证完成标准

所有以下项目必须通过:
- ✅ 无系统标题栏
- ✅ 可通过 header 拖动窗口
- ✅ 所有窗口控制按钮正常工作
- ✅ 交互元素不触发拖动
- ✅ 视觉风格统一(深色赛博朋克)
- ✅ 无控制台错误
- ✅ 性能流畅(60 FPS)

## 结论

如果所有检查点都通过,自定义标题栏功能已成功实现! 🎉
