# macOS 系统设置风格 UI 重构设计

## 概述

将 Agent Skills Guard 应用的 UI 风格从当前的"赛博朋克/终端"风格重构为 macOS 系统设置风格，采用浅色模式，支持跨平台（macOS/Windows）。

## 设计目标

- 模仿 macOS 系统设置的视觉风格和交互模式
- 浅色主题，简洁现代
- 侧边栏导航结构
- 跨平台兼容，使用系统默认字体

---

## 1. 整体布局结构

```
┌─────────────────────────────────────────────────────┐
│  标题栏 (交通灯按钮: macOS 左侧 / Windows 右侧)       │
├────────────┬────────────────────────────────────────┤
│            │                                        │
│  侧边栏     │         内容区域                        │
│  220px     │                                        │
│            │  ┌──────────────────────────────────┐  │
│  ○ 概览     │  │                                  │  │
│  ○ 已安装   │  │    页面内容                       │  │
│  ○ 技能市场 │  │    (卡片分组布局)                  │  │
│  ○ 仓库管理 │  │                                  │  │
│  ○ 设置     │  └──────────────────────────────────┘  │
│            │                                        │
└────────────┴────────────────────────────────────────┘
```

### 布局规格
- 侧边栏宽度：220px（固定）
- 内容区最小宽度：600px
- 窗口最小尺寸：820px × 600px

---

## 2. 颜色系统

### CSS 变量定义

```css
:root {
  /* 背景层次 */
  --background: 0 0% 98%;           /* #FAFAFA 主背景 */
  --sidebar-bg: 0 0% 95%;           /* #F2F2F2 侧边栏背景 */
  --card: 0 0% 100%;                /* #FFFFFF 卡片背景 */

  /* 文字层次 */
  --foreground: 0 0% 13%;           /* #222222 主文字 */
  --muted-foreground: 0 0% 45%;     /* #737373 次要文字 */

  /* 强调色 - macOS 蓝 */
  --primary: 211 100% 50%;          /* #007AFF */
  --primary-foreground: 0 0% 100%;  /* 白色 */

  /* 边框与分隔 */
  --border: 0 0% 90%;               /* #E5E5E5 细边框 */
  --separator: 0 0% 85%;            /* #D9D9D9 分隔线 */

  /* 状态色 */
  --destructive: 0 84% 60%;         /* 红色 - 危险/Critical */
  --success: 142 71% 45%;           /* 绿色 - 成功/Safe */
  --warning: 38 92% 50%;            /* 橙色 - 警告/Medium */

  /* 圆角 */
  --radius: 10px;
  --radius-sm: 6px;
  --radius-lg: 12px;
}
```

### 阴影规范
- 卡片阴影：`0 1px 3px rgba(0,0,0,0.08)`
- 悬停阴影：`0 2px 8px rgba(0,0,0,0.12)`
- 弹窗阴影：`0 10px 40px rgba(0,0,0,0.15)`

---

## 3. 字体系统

使用系统默认字体栈，确保跨平台原生体验：

```css
font-family:
  system-ui,
  -apple-system,
  BlinkMacSystemFont,
  "Segoe UI",
  Roboto,
  "Helvetica Neue",
  Arial,
  sans-serif;
```

### 字体规格
| 用途 | 大小 | 字重 |
|------|------|------|
| 页面标题 | 20px | 600 |
| 分组标题 | 12px | 500 (大写) |
| 正文 | 14px | 400 |
| 辅助文字 | 12px | 400 |
| 按钮文字 | 14px | 500 |

---

## 4. 组件规范

### 4.1 侧边栏导航项

```
状态        背景色          文字色        其他
─────────────────────────────────────────────
默认        transparent     #737373       -
悬停        #E5E5E5         #222222       -
选中        #007AFF15       #007AFF       左侧 3px 蓝色指示条
```

- 高度：36px
- 图标尺寸：18px
- 图标与文字间距：10px
- 左右内边距：12px
- 圆角：8px

### 4.2 分组卡片 (GroupCard)

替代原有的 `cyber-card` 组件。

```
┌─────────────────────────────────────┐
│  分组标题                            │  ← 12px, #737373, 大写
├─────────────────────────────────────┤
│                                     │
│  内容项 1                            │
│  ─────────────────────────────────  │  ← 1px #E5E5E5 分隔线
│  内容项 2                            │
│                                     │
└─────────────────────────────────────┘
```

- 背景：#FFFFFF
- 圆角：10px
- 阴影：`0 1px 3px rgba(0,0,0,0.08)`
- 内边距：16px
- 分组标题与卡片间距：8px

### 4.3 按钮样式

| 类型 | 背景色 | 文字色 | 边框 |
|------|--------|--------|------|
| 主要 (Primary) | #007AFF | #FFFFFF | 无 |
| 次要 (Secondary) | #F2F2F2 | #222222 | 无 |
| 轮廓 (Outline) | transparent | #007AFF | 1px #007AFF |
| 危险 (Destructive) | #FF3B30 | #FFFFFF | 无 |

通用规格：
- 高度：32px
- 内边距：0 16px
- 圆角：6px
- 字重：500

### 4.4 输入框

- 背景：#FFFFFF
- 边框：1px solid #E5E5E5
- 圆角：6px
- 高度：32px
- 聚焦态：边框变为 #007AFF，添加 `0 0 0 3px rgba(0,122,255,0.15)` 光晕

### 4.5 状态标签

| 状态 | 背景色 | 文字色 |
|------|--------|--------|
| Safe | #E8F5E9 | #2E7D32 |
| Medium | #FFF3E0 | #E65100 |
| Critical | #FFEBEE | #C62828 |

- 圆角：4px
- 内边距：4px 8px
- 字号：12px

---

## 5. 文件修改清单

### 需要修改的文件

| 文件 | 改动内容 |
|------|----------|
| `src/styles/globals.css` | 重写 CSS 变量、移除赛博朋克效果、新增 macOS 组件类 |
| `tailwind.config.js` | 更新颜色配置、调整圆角值 |
| `src/App.tsx` | 重构布局：顶部导航 → 侧边栏导航 |
| `src/components/WindowControls.tsx` | 简化样式，适配新主题 |
| `src/components/OverviewPage.tsx` | 更新为分组卡片布局 |
| `src/components/InstalledSkillsPage.tsx` | 更新列表样式 |
| `src/components/MarketplacePage.tsx` | 更新卡片网格样式 |
| `src/components/RepositoriesPage.tsx` | 更新表格/列表样式 |
| `src/components/SettingsPage.tsx` | 更新为 macOS 设置分组风格 |
| `src/components/overview/*.tsx` | 更新统计卡片、问题列表等组件 |
| `src/components/ui/*.tsx` | 更新基础 UI 组件样式 |

### 新增文件

| 文件 | 用途 |
|------|------|
| `src/components/Sidebar.tsx` | 侧边栏导航组件 |
| `src/components/ui/GroupCard.tsx` | macOS 风格分组卡片组件 |

### 删除的代码/样式

- `matrix-bg` 背景效果
- `cyber-card`、`neon-button` 组件类
- `terminal-*` 颜色变量
- 扫描线 (scanline) 效果
- Glitch 动画
- 发光 (glow) 效果
- ASCII 边框装饰

---

## 6. 跨平台适配

### macOS
- 窗口控件（交通灯）位于左上角
- 侧边栏可使用毛玻璃效果（可选）

### Windows
- 窗口控件位于右上角
- 标题栏右侧显示最小化/最大化/关闭按钮
- 整体视觉风格保持一致

当前代码已有平台检测逻辑 (`getPlatform()`)，可复用。

---

## 7. 实施顺序建议

1. **基础样式** - 修改 `globals.css` 和 `tailwind.config.js`
2. **新增组件** - 创建 `Sidebar.tsx` 和 `GroupCard.tsx`
3. **主布局** - 重构 `App.tsx` 为侧边栏布局
4. **页面适配** - 逐个更新各页面组件
5. **细节打磨** - 调整间距、动画、交互细节

---

## 附录：视觉参考

macOS 系统设置风格特点：
- 简洁、功能性优先
- 大量留白
- 精致但不张扬的阴影
- 分组卡片组织内容
- 蓝色作为主要强调色
- 柔和的过渡动画
